syntax = "proto3";

package post;

// gRPC service for managing user posts
service PostService {
  // Creates a new post authored by a user
  rpc CreatePost (CreatePostRequest) returns (PostResponse);

  // Retrieves a specific post by its ID
  rpc GetPost (GetPostRequest) returns (PostResponse);

  // Retrieves all posts created by a specific user
  rpc GetUserPosts (UserPostRequest) returns (PostListResponse);
}

// Request to create a new post
message CreatePostRequest {
  string user_id = 1;   // ID of the post's author
  string title   = 2;   // Title of the post
  string content = 3;   // Content body of the post
}

// Request to get a post by ID
message GetPostRequest {
  string post_id = 1;
}

// Request to get all posts by a specific user
message UserPostRequest {
  string user_id = 1;
}

// Response representing a post object
message PostResponse {
  string post_id   = 1;
  string user_id   = 2;
  string title     = 3;
  string content   = 4;
  string create_at = 5; // ISO 8601 timestamp (e.g., "2025-06-28T19:00:00Z")
}

// Response containing a list of posts
message PostListResponse {
  repeated PostResponse posts = 1;
}
